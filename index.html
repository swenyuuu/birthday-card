<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Card</title>

<style>
  body {
    margin: 0;
    background: radial-gradient(circle at top, #202763 0, #050814 50%, #02030a 100%);
    color: #fff;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
  }

  /* æ•´å€‹é é¢åŒ…è›‹ç³•ç½®ä¸­ */
  .cake-page {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  /* æ§åˆ¶è›‹ç³•å¤§å°ï¼ˆä½ åªéœ€è¦æ”¹é€™è£¡ï¼‰ */
  .cake-box {
    position: relative;
    width: 80vw;
    max-width: 420px;
  }

  .cake-img {
    width: 100%;
    display: block;
  }

  /* ===== äº”å€‹ç«ç„° ===== */
  .flame {
    position: absolute;
    width: 26px;
    height: 32px;
    background: radial-gradient(circle, #ffcf33 0%, #ff5a00 70%, transparent 100%);
    border-radius: 50%;
    animation: flicker 0.15s infinite alternate;
    transform: translate(-50%, -50%);
    cursor: pointer;
    z-index: 10;
  }

  @keyframes flicker {
    from { transform: translate(-50%, -50%) scale(1); opacity: 0.9; }
    to   { transform: translate(-50%, -50%) scale(1.2); opacity: 0.6; }
  }

  .flame.off {
    display: none;
  }

  /* ===== ç«ç„°åº§æ¨™ï¼ˆç²¾æº–è²¼è‘—ä½ çš„åœ–ï¼‰===== */
  #flame1 { left: 30%; top: 33%; }
  #flame2 { left: 40%; top: 32%; }
  #flame3 { left: 50%; top: 31%; }
  #flame4 { left: 61%; top: 32%; }
  #flame5 { left: 70%; top: 33%; }

  /* ===== æç¤º ===== */
  .tap-hint {
    margin-top: 16px;
    opacity: 0.8;
    font-size: 14px;
  }

  /* ===== åˆ€å­ ===== */
  .knife {
    font-size: 46px;
    margin-top: 20px;
    opacity: 0;
    transition: opacity 0.3s;
    cursor: pointer;
  }

  /* åˆ‡å®Œé¡¯ç¤ºçš„è¨Šæ¯ */
  .cake-msg {
    margin-top: 20px;
    opacity: 0;
    transition: opacity 0.6s ease;
    text-align: center;
  }

  .cake-msg button {
    margin-top: 12px;
    background: rgba(255,255,255,0.15);
    border: 1px solid rgba(255,255,255,0.3);
    padding: 8px 20px;
    border-radius: 999px;
    color: #fff;
    cursor: pointer;
  }
</style>

</head>
<body>

<section class="cake-page">

  <div class="cake-box">
    <img src="img/cake.png" class="cake-img" id="cakeImg">

    <!-- äº”å€‹ç« -->
    <div id="flame1" class="flame"></div>
    <div id="flame2" class="flame"></div>
    <div id="flame3" class="flame"></div>
    <div id="flame4" class="flame"></div>
    <div id="flame5" class="flame"></div>
  </div>

  <div class="tap-hint" id="tapHint">é»æ“Šè Ÿç‡­æŠŠå®ƒå€‘ç†„æ»… âœ¨</div>

  <div class="knife" id="knife">ğŸ”ª</div>

  <div class="cake-msg" id="cakeMsg">
    <h2>ç”Ÿæ—¥å¿«æ¨‚ï¼ğŸ‚</h2>
    <p>å¸Œæœ›ä½ çš„æ–°ä¸€å¹´æ¯”å»å¹´æ›´æº«æŸ”ï¼Œä¹Ÿæ›´è¼•é¬†ã€‚</p>
    <button id="goNext">å‰å¾€ä¸‹ä¸€é  â†’</button>
  </div>

</section>

<script>
  const flames = document.querySelectorAll('.flame');
  let offCount = 0;

  flames.forEach(f => {
    f.addEventListener('click', () => {
      if (!f.classList.contains('off')) {
        f.classList.add('off');
        offCount++;

        if (offCount === 5) {
          document.getElementById('knife').style.opacity = 1;
        }
      }
    });
  });

  const knife = document.getElementById('knife');
  knife.addEventListener('click', () => {
    // åˆ‡å®Œæ›åœ–ç‰‡
    document.getElementById('cakeImg').src = "img/aftercut.jpg";

    // éš±è—åˆ€å­
    knife.style.opacity = 0;

    // é¡¯ç¤ºè¨Šæ¯
    setTimeout(() => {
      document.getElementById('cakeMsg').style.opacity = 1;
    }, 600);
  });

  // å¯é€£åˆ°å¾Œé¢é é¢
  document.getElementById('goNext').addEventListener('click', () => {
    alert("é€™è£¡ä½ å¯ä»¥æ¥å¾Œé¢çš„æ—…è¡Œå°å¡é ï¼");
  });
</script>

</body>
</html>
